<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Psychic Game</title>
    <!-- <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <script src="assets/javascript/game.js"></script> -->
</head>
<body>
    <header class="jumbotron">
        <h1>Psychic Game</h1>
    </header>

    <div id="game">
        <p>Guess what letter I'm thinking of.</p>
        <p>Wins: 0</p>
        <p>Losses: 0</p>
        <p>Guesses Left: 9</p>
        <p>Your Guesses So Far: </p>
    </div>

    <script>
        var letters = ["abcdefghijklmnopqrstuvwxyz"]
        var guessedLetters = [];
        var wins = 0;
        var losses = 0;
        var numberGuesses = 9;
        //var randomLetter = letters[Math.floor(Math.random() * letters.length)];
        var randomLetter = "t";
        var win = false;
        
        // When the user presses a key, it will run the following function...
        document.onkeyup = function(event) {
            // Determine which key was pressed
            var userGuess = event.key;

            function endGame() {
                if (win === true) {
                    wins++;
                }
                else {
                    losses++;     
                }
                
                numberGuesses = 9;
                randomLetter = letters[Math.floor(Math.random() * letters.length)];
                guessedLetters = [];
            }
            
            function print() {
                var html = "<p>Guess what letter I'm thinking of.</p>" + 
                "<p>Wins: " + wins + "</p>" +
                "<p>Losses: " + losses + "</p>" +
                "<p>Guesses Left: " + numberGuesses + "</p>" +
                "<p>Your Guesses So Far: " + guessedLetters.toString() + "</p>";
                
                document.querySelector("#game").innerHTML = html;
            }

            if (numberGuesses > 1) {
                
                //var guess = userGuess.toLowerCase();
                var ascii = userGuess.charCodeAt(0);

                if (ascii >= 97 && ascii <= 122) {
                        if (guessedLetters.includes(userGuess) === false) {
                        /*    endGame ();
                            print();
                        }*/
                        //else {
                            if (userGuess === randomLetter) {
                                win = true;
                                endGame();
                                print();
                                
                            }
                            else {
                                numberGuesses--;
                                guessedLetters.push(userGuess);
                                print();
                            }
                        }
                }
                
            }
            else {
                    win = false;
                    endGame();
                    print();
            }    
            
        };
    </script>

</body>
</html>
